(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{190:function(e,t,o){e.exports=o(735)},195:function(e,t,o){},197:function(e,t,o){},672:function(e,t,o){},704:function(e,t,o){},705:function(e,t,o){},706:function(e,t,o){},707:function(e,t,o){},708:function(e,t,o){},709:function(e,t,o){},710:function(e,t,o){},711:function(e,t,o){},712:function(e,t,o){},713:function(e,t,o){},714:function(e,t,o){},715:function(e,t,o){},716:function(e,t,o){},717:function(e,t,o){},718:function(e,t,o){},719:function(e,t,o){},720:function(e,t,o){},721:function(e,t,o){},722:function(e,t,o){},723:function(e,t,o){},724:function(e,t,o){},725:function(e,t,o){},726:function(e,t,o){},727:function(e,t,o){},728:function(e,t,o){},729:function(e,t,o){},730:function(e,t,o){},731:function(e,t,o){},732:function(e,t,o){},733:function(e,t,o){},735:function(e,t,o){"use strict";o.r(t);var a=o(1),r=o.n(a),l=o(180),n=o.n(l),s=(o(195),o(21)),c=o(12),i=o.n(c),u=o(16),h=o(5),d=o(6),m=o(8),b=o(7),p=o(10),f=o(9),g=(o(197),[{name:"Bathroom Group",occupancy:"Private",fixtureType:"Flush Tank",loadValues:{cold:2.7,hot:1.5,total:3.6},shorthand:{name:"BTG",occupancy:"Pr.",fixtureType:"FT"}},{name:"Bathroom Group",occupancy:"Private",fixtureType:"Flushometer Valve",loadValues:{cold:6,hot:3,total:8},shorthand:{name:"BTG",occupancy:"Pr.",fixtureType:"FV"}},{name:"Bathtub",occupancy:"Private",fixtureType:"Faucet",loadValues:{cold:1,hot:1,total:1.4},shorthand:{name:"BT",occupancy:"Pr.",fixtureType:"Fa."}},{name:"Bathtub",occupancy:"Public",fixtureType:"Faucet",loadValues:{cold:3,hot:3,total:4},shorthand:{name:"BT",occupancy:"Pu.",fixtureType:"Fa."}},{name:"Bidet",occupancy:"Private",fixtureType:"Faucet",loadValues:{cold:1.5,hot:1.5,total:2},shorthand:{occupancy:"Pr.",fixtureType:"Fa."}},{name:"Combination Fixture",occupancy:"Private",fixtureType:"Faucet",loadValues:{cold:2.25,hot:2.25,total:3},shorthand:{occupancy:"Pr.",fixtureType:"Fa.",name:"Combo"}},{name:"Dishwashing Machine",occupancy:"Private",fixtureType:"Faucet",loadValues:{cold:1,hot:1,total:1.4},shorthand:{occupancy:"Pr.",fixtureType:"Fa.",name:"DW"}},{name:"Drinking Fountain",occupancy:"Offices, etc.",fixtureType:'3/8" valve',loadValues:{cold:.25,hot:0,total:.25},shorthand:{occupancy:"Of.",fixtureType:'3/8" V',nane:"DF"}},{name:"Kitchen Sink",occupancy:"Private",fixtureType:"Faucet",loadValues:{cold:1,hot:1,total:1.4},shorthand:{name:"SK",occupancy:"Pr.",fixtureType:"Fa."}},{name:"Kitchen Sink",occupancy:"Hotel, restaurant",fixtureType:"Faucet",loadValues:{cold:3,hot:3,total:4},shorthand:{name:"SK",occupancy:"H/R",fixtureType:"Fa."}},{name:"Laundry Trays (1 to 3)",occupancy:"Private",fixtureType:"Faucet",loadValues:{cold:1,hot:1,total:1.4},shorthand:{occupancy:"Pr.",fixtureType:"Fa.",name:"Laun. Trays 1-3"}},{name:"Lavatory",occupancy:"Private",fixtureType:"Faucet",loadValues:{cold:.5,hot:.5,total:.7},shorthand:{name:"Lav",occupancy:"Pr.",fixtureType:"Fa."}},{name:"Lavatory",occupancy:"Public",fixtureType:"Faucet",loadValues:{cold:1.5,hot:1.5,total:2},shorthand:{name:"Lav",occupancy:"Pu.",fixtureType:"Fa."}},{name:"Service Sink",occupancy:"Offices, etc.",fixtureType:"Faucet",loadValues:{cold:2.25,hot:2.25,total:3},shorthand:{name:"SS",occupancy:"Of.",fixtureType:"Fa."}},{name:"Shower Head",occupancy:"Private",fixtureType:"Mixing Valve",loadValues:{cold:1,hot:1,total:1.4},shorthand:{name:"SH",occupancy:"Pr.",fixtureType:"MV"}},{name:"Shower Head",occupancy:"Public",fixtureType:"Mixing Valve",loadValues:{cold:3,hot:3,total:4},shorthand:{name:"SH",occupancy:"Pu.",fixtureType:"MV"}},{name:"Urinal",occupancy:"Public",fixtureType:'1" Flushometer Valve',loadValues:{cold:10,hot:0,total:10},shorthand:{name:"UR",occupancy:"Pu.",fixtureType:'1" FV'}},{name:"Urinal",occupancy:"Public",fixtureType:'3/4" Flushometer Valve',loadValues:{cold:5,hot:0,total:5},shorthand:{name:"UR",occupancy:"Pu.",fixtureType:'3/4" FV'}},{name:"Urinal",occupancy:"Public",fixtureType:"Flush Tank",loadValues:{cold:3,hot:0,total:3},shorthand:{name:"UR",occupancy:"Pu.",fixtureType:"FT"}},{name:"Washing Machine (8 lb)",occupancy:"Private",fixtureType:"Automatic",loadValues:{cold:1,hot:1,total:1.4},shorthand:{occupancy:"Pr.",fixtureType:"Auto",name:"WM (8lb)"}},{name:"Washing Machine (8 lb)",occupancy:"Public",fixtureType:"Automatic",loadValues:{cold:2.25,hot:2.25,total:3},shorthand:{occupancy:"Pu.",fixtureType:"Auto",name:"WM (8lb)"}},{name:"Washing Machine (15 lb)",occupancy:"Public",fixtureType:"Automatic",loadValues:{cold:3,hot:3,total:4},shorthand:{occupancy:"Pu.",fixtureType:"Auto",name:"WM (15lb)"}},{name:"Water Closet",occupancy:"Private",fixtureType:"Flushometer Valve",loadValues:{cold:6,hot:0,total:6},shorthand:{name:"WC",occupancy:"Pr.",fixtureType:"FV"}},{name:"Water Closet",occupancy:"Private",fixtureType:"Flush Tank",loadValues:{cold:2.2,hot:0,total:6},shorthand:{name:"WC",occupancy:"Pr.",fixtureType:"FT"}},{name:"Water Closet",occupancy:"Public",fixtureType:"Flushometer Valve",loadValues:{cold:10,hot:0,total:10},shorthand:{name:"WC",occupancy:"Pu.",fixtureType:"FV"}},{name:"Water Closet",occupancy:"Public",fixtureType:"Flushometer Tank",loadValues:{cold:5,hot:0,total:5},shorthand:{name:"WC",occupancy:"Pu.",fixtureType:"FT"}},{name:"Water Closet",occupancy:"Public or Private",fixtureType:"Flushometer Tank",loadValues:{cold:2,hot:0,total:.2},shorthand:{name:"WC",occupancy:"Pu./Pr.",fixtureType:"FT"}}]),F=[3,5,6.5,8,9.4,10.7,11.8,12.8,13.7,14.6,15.4,16,16.5,17,17.5,18,18.4,18.8,19.2,19.6,21.5,23.3,24.9,26.3,27.7,29.1,32,35,38,41,43.5,48,52.5,57,61,65,70,75,80,85,105,124,170,208,239,269,297,325,380,433,525,593],v=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,25,30,35,40,45,50,60,70,80,90,100,120,140,160,180,200,225,250,275,300,400,500,750,1e3,1250,1500,1750,2e3,2500,3e3,4e3,5e3],E=['3/4"','3/4"','3/4"','3/4"','3/4"','3/4"','3/4"','3/4"','3/4"','3/4"','3/4"','1"','1"','1"','1"','1"','1"','1"','1"','1"','1 1/4"','1 1/4"','1 1/4"','1 1/4"','1 1/4"','1 1/4"','1 1/4"','1 1/2"','1 1/2"','1 1/2"','1 1/2"','1 1/2"','1 1/2"','2"','2"','2"','2"','2"','2"','2 1/2"','2 1/2"','2 1/2"','3"','3"','4"','4"','4"','4"','6"','6"','6"','6"','6"'],_=(o(72),o(45)),C=o(43),S=o(59),j=o(736),y=o(98),O=o(737),x=o(20),R=o.n(x),w=(o(672),function(e){function t(e){var o;return Object(h.a)(this,t),(o=Object(m.a)(this,Object(b.a)(t).call(this,e))).state={isLoading:!0,projects:[]},o}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.isAuthenticated){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.projects();case 5:t=e.sent,this.setState({projects:t}),console.log(this.state.projects),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),alert(e.t0);case 13:this.setState({isLoading:!1}),console.log(this.props.user);case 15:case"end":return e.stop()}},e,this,[[2,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"projects",value:function(){return x.API.get("riser-sizer","/riser-sizer")}},{key:"renderProjectsList",value:function(e){return[{}].concat(e).map(function(e,t){return 0!==t&&r.a.createElement(S.LinkContainer,{key:e.projectId,to:"/projects/".concat(e.projectId)},r.a.createElement(y.a,{header:e.content.name},e.content.address&&r.a.createElement("p",{className:"project__address"},e.content.address),r.a.createElement("p",null,"Risers: "+e.content.risers.length),r.a.createElement("p",{className:"project__date"},"Created: "+new Date(e.createdAt).toDateString())))})}},{key:"renderLander",value:function(){return r.a.createElement("div",{className:"lander"},!this.props.isAuthenticated&&r.a.createElement("div",null,r.a.createElement("div",{className:"lander__header"},r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"navbar__wrapper"},r.a.createElement("a",{href:"",className:"navbar__brand"},"Riser Sizer"),r.a.createElement("ul",{className:"navbar__list"},r.a.createElement(a.Fragment,null,r.a.createElement(S.LinkContainer,{to:"/login",className:"navbar__link navbar__link--login"},r.a.createElement(j.a,null,"Login")),r.a.createElement(S.LinkContainer,{to:"/signup",className:"navbar__link navbar__link--signup"},r.a.createElement(j.a,null,"Signup")))))),r.a.createElement("div",{className:"lander__text"},r.a.createElement("h1",{className:"lander__heading"},"All in one tool for sizing riser diagrams."),r.a.createElement("p",null,"The first tool built for plumbing engineers to size risers."))),r.a.createElement("div",{className:"lander__row"},r.a.createElement("div",{className:"lander_column feature"},r.a.createElement("img",{className:"feature__icon",src:"https://res.cloudinary.com/rezdelamasa/image/upload/v1568667490/folder-icon.svg"}),r.a.createElement("div",{className:"feature__text"},r.a.createElement("h1",{className:"feature__heading"},"Manage Projects"),r.a.createElement("p",{className:"feature__description"},"Create, view, and manage all of your projects on your dashboard. Give your project a name, address, and description."))),r.a.createElement("div",{className:"lander_column feature"},r.a.createElement("img",{className:"feature__icon",src:"https://res.cloudinary.com/rezdelamasa/image/upload/v1568684518/create-riser.svg"}),r.a.createElement("div",{className:"feature__text"},r.a.createElement("h1",{className:"feature__heading"},"Create Risers"),r.a.createElement("p",{className:"feature__description"},"Add risers to your project, give it a label, and edit it in the Editor."))),r.a.createElement("div",{className:"lander_column feature"},r.a.createElement("img",{className:"feature__icon",src:"https://res.cloudinary.com/rezdelamasa/image/upload/v1568688068/create-floor.svg"}),r.a.createElement("div",{className:"feature__text"},r.a.createElement("h1",{className:"feature__heading"},"Create Floors"),r.a.createElement("p",{className:"feature__description"},"Add floors to your risers, label the initial floor then new floors are automatically labeled. Indicate what floor is the source."))),r.a.createElement("div",{className:"lander_column feature"},r.a.createElement("img",{className:"feature__icon",src:"https://res.cloudinary.com/rezdelamasa/image/upload/v1568758367/add-fixture.svg"}),r.a.createElement("div",{className:"feature__text"},r.a.createElement("h1",{className:"feature__heading"},"Add Fixtures"),r.a.createElement("p",{className:"feature__description"},"Add fixtures to your floors and fixture units(FU) will be calculated automatically."))))))}},{key:"renderDashboard",value:function(){return r.a.createElement("div",{className:"dashboard"},r.a.createElement("div",{className:"Projects__Menu"},r.a.createElement("div",{className:"Menu__wrapper"},r.a.createElement("div",{className:"Menu__account"},r.a.createElement("div",{className:"Menu__avi"}),r.a.createElement("p",{className:"Menu__name"},this.props.user)),r.a.createElement("a",{className:"Menu__button Menu__button--active"},"Dashboard"),r.a.createElement("a",{className:"Menu__button"},"Help"),r.a.createElement("a",{className:"Menu__button"},"Settings"),r.a.createElement("a",{className:"Menu__button",onClick:this.props.handleLogout},"Logout"))),r.a.createElement("div",{className:"dashboard__content"},r.a.createElement("div",{className:"dashboard__section"},r.a.createElement("div",{className:"subsection__header"},r.a.createElement("h2",{className:"dashboard__subheading"},"Projects"),r.a.createElement("a",{href:"/projects/new",className:"subsection__link"},r.a.createElement("b",null,"\uff0b")," New Project")),r.a.createElement(O.a,{className:"projects__list"},!this.state.isLoading&&this.renderProjectsList(this.state.projects)))))}},{key:"render",value:function(){this.props.handleLogout;return r.a.createElement("div",{className:"Home"},this.props.isAuthenticated?this.renderDashboard():this.renderLander())}}]),t}(a.Component)),L=o(31),N=o(739),k=o(740),V=o(742),H=o(41),P=o(738),T=o(187),A=(o(704),function(e){var t=e.isLoading,o=e.text,a=e.loadingText,l=e.className,n=void 0===l?"":l,s=e.disabled,c=void 0!==s&&s,i=Object(H.a)(e,["isLoading","text","loadingText","className","disabled"]);return r.a.createElement(P.a,Object.assign({className:"LoaderButton ".concat(n),disabled:c||t},i),t&&r.a.createElement(T.a,{glyph:"refresh",className:"spinning"}),t?a:o)}),D=(o(705),function(e){function t(e){var o;return Object(h.a)(this,t),(o=Object(m.a)(this,Object(b.a)(t).call(this,e))).handleChange=function(e){o.setState(Object(L.a)({},e.target.id,e.target.value))},o.handleSubmit=function(){var e=Object(u.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),o.setState({isLoading:!0}),e.prev=2,e.next=5,x.Auth.signIn(o.state.email,o.state.password);case 5:o.props.userHasAuthenticated(!0,o.state.email),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0.message),o.setState({isLoading:!1});case 12:case"end":return e.stop()}},e,null,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),o.state={isLoading:!1,email:"",password:""},o}return Object(f.a)(t,e),Object(d.a)(t,[{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>0}},{key:"render",value:function(){return r.a.createElement("div",{className:"Login"},r.a.createElement("img",{className:"Login__bg",src:"https://res.cloudinary.com/rezdelamasa/image/upload/v1568779719/riser-sizer-bg.svg",alt:""}),r.a.createElement("div",{className:"Login__header"},r.a.createElement("a",{href:"/"},"Riser Sizer")),r.a.createElement("div",{className:"Login__content"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h1",{className:"form__heading"},"Log In"),r.a.createElement(N.a,{controlId:"email"},r.a.createElement(k.a,null,"Email"),r.a.createElement(V.a,{autoFocus:!0,type:"email",value:this.state.email,onChange:this.handleChange,placeholder:"Email"})),r.a.createElement(N.a,{controlId:"password"},r.a.createElement(k.a,null,"Password"),r.a.createElement(V.a,{value:this.state.password,onChange:this.handleChange,type:"password",placeholder:"Password"})),r.a.createElement(A,{disabled:!this.validateForm(),type:"submit",isLoading:this.state.isLoading,text:"Login",loadingText:"Logging in\u2026"}))))}}]),t}(a.Component)),z=(o(706),function(){return r.a.createElement("div",{className:"NotFound"},r.a.createElement("h3",null,"Sorry, page not found!"))}),I=o(741),B=(o(707),function(e){function t(e){var o;return Object(h.a)(this,t),(o=Object(m.a)(this,Object(b.a)(t).call(this,e))).handleChange=function(e){o.setState(Object(L.a)({},e.target.id,e.target.value))},o.handleSubmit=function(){var e=Object(u.a)(i.a.mark(function e(t){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),o.setState({isLoading:!0}),e.prev=2,e.next=5,x.Auth.signUp({username:o.state.email,password:o.state.password});case 5:a=e.sent,o.setState({newUser:a}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),"UsernameExistsException"===e.t0.name&&(x.Auth.resendSignUp(o.state.email),o.setState({showConfirmationForm:!0}),console.log(o.state.showConfirmationForm));case 13:o.setState({isLoading:!1});case 14:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t){return e.apply(this,arguments)}}(),o.handleConfirmationSubmit=function(){var e=Object(u.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),o.setState({isLoading:!0}),e.prev=2,e.next=5,x.Auth.confirmSignUp(o.state.email,o.state.confirmationCode);case 5:return e.next=7,x.Auth.signIn(o.state.email,o.state.password);case 7:o.props.userHasAuthenticated(!0),o.props.history.push("/"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),alert(e.t0.message),o.setState({isLoading:!1});case 15:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}(),o.state={isLoading:!1,email:"",password:"",confirmPassword:"",confirmationCode:"",newUser:null,showConfirmationForm:!1},o.renderConfirmationForm=o.renderConfirmationForm.bind(Object(p.a)(o)),o}return Object(f.a)(t,e),Object(d.a)(t,[{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>0&&this.state.password===this.state.confirmPassword}},{key:"validateConfirmationForm",value:function(){return this.state.confirmationCode.length>0}},{key:"renderConfirmationForm",value:function(){return r.a.createElement("form",{onSubmit:this.handleConfirmationSubmit},r.a.createElement(N.a,{controlId:"confirmationCode",bsSize:"large"},r.a.createElement(k.a,null,"Confirmation Code"),r.a.createElement(V.a,{autoFocus:!0,type:"tel",value:this.state.confirmationCode,onChange:this.handleChange}),r.a.createElement(I.a,null,"Please check your email for the code.")),r.a.createElement(A,{block:!0,bsSize:"large",disabled:!this.validateConfirmationForm(),type:"submit",isLoading:this.state.isLoading,text:"Verify",loadingText:"Verifying\u2026"}))}},{key:"renderForm",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h1",{className:"form__heading"},"Sign Up"),r.a.createElement(N.a,{controlId:"email",bsSize:"large"},r.a.createElement(k.a,null,"Email"),r.a.createElement(V.a,{autoFocus:!0,type:"email",value:this.state.email,onChange:this.handleChange})),r.a.createElement(N.a,{controlId:"password",bsSize:"large"},r.a.createElement(k.a,null,"Password"),r.a.createElement(V.a,{value:this.state.password,onChange:this.handleChange,type:"password"})),r.a.createElement(N.a,{controlId:"confirmPassword",bsSize:"large"},r.a.createElement(k.a,null,"Confirm Password"),r.a.createElement(V.a,{value:this.state.confirmPassword,onChange:this.handleChange,type:"password"})),r.a.createElement(A,{bsSize:"large",disabled:!this.validateForm(),type:"submit",isLoading:this.state.isLoading,text:"Signup",loadingText:"Signing up\u2026"}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Signup"},r.a.createElement("img",{className:"Signup__bg",src:"https://res.cloudinary.com/rezdelamasa/image/upload/v1568779719/riser-sizer-bg.svg",alt:""}),r.a.createElement("div",{className:"Signup__header"},r.a.createElement("a",{href:"/"},"Riser Sizer")),null!==this.state.newUser||this.state.showConfirmationForm?this.renderConfirmationForm():this.renderForm())}}]),t}(a.Component)),M={REGION:"us-east-2",URL:"https://ohjnstaaua.execute-api.us-east-2.amazonaws.com/prod"},W={REGION:"us-east-2",USER_POOL_ID:"us-east-2_UdgYTod0a",APP_CLIENT_ID:"6ajnta6m1slp1e71ldqsg15pe2",IDENTITY_POOL_ID:"us-east-2:ec8ae969-123f-420a-acb8-dd832e2d850b"},U=(o(708),function(e){function t(e){var o;return Object(h.a)(this,t),(o=Object(m.a)(this,Object(b.a)(t).call(this,e))).handleChange=function(e){o.setState(Object(L.a)({},e.target.id,e.target.value))},o.handleSubmit=function(){var e=Object(u.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),o.setState({isLoading:!0}),e.prev=2,e.next=5,o.createProject({content:{name:o.state.name,risers:[],address:o.state.address,description:o.state.description}});case 5:console.log(o.state.name),o.props.history.push("/"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),alert(e.t0),o.setState({isLoading:!1});case 13:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t){return e.apply(this,arguments)}}(),o.state={isLoading:null,name:"",risers:[],address:"",description:""},o}return Object(f.a)(t,e),Object(d.a)(t,[{key:"validateForm",value:function(){return this.state.name.length>0}},{key:"createProject",value:function(e){return x.API.post("riser-sizer","/riser-sizer",{body:e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"NewProject"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h1",null,"New Project Details"),r.a.createElement(N.a,{controlId:"name"},r.a.createElement(k.a,null,"Project Name"),r.a.createElement(V.a,{onChange:this.handleChange,value:this.state.name,type:"text",placeholder:"Name"})),r.a.createElement(N.a,{controlId:"address"},r.a.createElement(k.a,null,"Address (Optional)"),r.a.createElement(V.a,{onChange:this.handleChange,value:this.state.address,type:"text",placeholder:"Address"})),r.a.createElement(N.a,{controlId:"description"},r.a.createElement(k.a,null,"Description (Optional)"),r.a.createElement(V.a,{onChange:this.handleChange,value:this.state.description,type:"text",placeholder:"Description"})),r.a.createElement("div",{className:"NewProject__buttons"},r.a.createElement("a",{href:"/",className:"NewProject__cancel"},"Cancel"),r.a.createElement(A,{className:"NewProject__create",block:!0,bsStyle:"primary",bsSize:"large",disabled:!this.validateForm(),type:"submit",isLoading:this.state.isLoading,text:"Create",loadingText:"Creating\u2026"}))))}}]),t}(a.Component)),G=function(e){function t(){return Object(h.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,o=e.className,a=e.children;return r.a.createElement("button",{onClick:t,className:o,type:"button"},a)}}]),t}(a.Component),K=function(e){function t(){return Object(h.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.riserLabel;return r.a.createElement("h1",{className:"label__text label__text--bottom"},"Riser ",e)}}]),t}(a.Component),Y=(o(709),function(e){function t(e){var o;return Object(h.a)(this,t),(o=Object(m.a)(this,Object(b.a)(t).call(this,e))).handleSubmit=function(e){o.props.handleRiserLabelSubmit(e,o.props.riserIndex)},o.handleSubmit=o.handleSubmit.bind(Object(p.a)(o)),o}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.handleRiserLabelSubmit,e.showForm,e.riserLabel,e.handleRiserLabelChange),o=(e.riserIndex,e.showLabelForm,e.riser);return r.a.createElement("div",{className:"label"},o.isEditingLabel?r.a.createElement("form",{className:"label__form",onSubmit:this.handleSubmit},r.a.createElement("input",{className:"label__input",type:"number",onChange:t,placeholder:"Label"})):r.a.createElement(K,{riserLabel:o.label}))}}]),t}(a.Component)),J=(o(710),function(e){function t(){var e,o;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(o=Object(m.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).handleDelete=function(e){o.props.handleRiserDelete(e,o.props.riserLabel)},o}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t,o,a,l,n,s=this.props,c=s.riser,i=(s.highestColdRange,s.highestHotRange,s.topColdFloor,s.topHotFloor,s.bottomHotFloor,s.bottomColdFloor,s.totalFloorRange,s.highestFloor,s.lowestFloor,s.risers,s.handleEditRiser),u=s.riserLabel;s.handleRiserDelete;return c.coldFloors?(c.coldFloors.below.length>0?t=c.coldFloors.below[0].label:c.coldFloors.above.length>0&&(t=c.coldFloors.above[0].label),c.coldFloors.above.length>0?e=c.coldFloors.above[c.coldFloors.above.length-1].label:c.coldFloors.below.length>0&&(e=c.coldFloors.below[c.coldFloors.below.length-1].label)):(t="N/A",e="N/A"),c.hotFloors?(c.hotFloors.below.length>0?a=c.hotFloors.below[0].label:c.hotFloors.above.length>0&&(a=c.hotFloors.above[0].label),c.hotFloors.above.length>0?o=c.hotFloors.above[c.hotFloors.above.length-1].label:c.hotFloors.below.length>0&&(o=c.hotFloors.below[c.hotFloors.below.length-1].label)):(a="N/A",o="N/A"),c.totalSizes&&(c.totalSizes.cold,c.totalSizes.hot),c.coldSourceFloor&&void 0!=c.coldSourceFloor||(l="N/A"),n=c.hotSourceFloor&&void 0!=c.hotSourceFloor?c.hotSourceFloor:"N/A",r.a.createElement("div",{className:"riser-helper"},r.a.createElement("div",{className:"riser__content"},r.a.createElement("div",{className:"riser-text__wrapper"},r.a.createElement("h1",{className:"riser__subheading riser__subheading--cold"},"Cold Floors"),r.a.createElement("p",{className:"riser__text"},t+" - "+e)),r.a.createElement("div",{className:"riser-text__wrapper"},r.a.createElement("h1",{className:"riser__subheading riser__subheading--cold"},"Cold Source Floor"),r.a.createElement("p",{className:"riser__text"},l)),r.a.createElement("div",{className:"riser-text__wrapper"},r.a.createElement("h1",{className:"riser__subheading riser__subheading--hot"},"Hot Floors"),r.a.createElement("p",{className:"riser__text"},a+" - "+o)),r.a.createElement("div",{className:"riser-text__wrapper"},r.a.createElement("h1",{className:"riser__subheading riser__subheading--hot"},"Hot Source Floor"),r.a.createElement("p",{className:"riser__text"},n))),r.a.createElement("div",{className:"riser__button-wrapper"},r.a.createElement(G,{className:"button--edit",onClick:function(e,t){i(e,{riserLabel:u})}},"Edit",r.a.createElement("p",{className:"button__arrow"},">")),r.a.createElement(G,{className:"button--delete",onClick:this.handleDelete},"Delete")))}}]),t}(a.Component)),$=(o(711),function(e){function t(){return Object(h.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.riser,o=e.highestColdRange,a=e.highestHotRange,l=e.topColdFloor,n=e.topHotFloor,s=e.bottomHotFloor,c=e.bottomColdFloor,i=e.totalFloorRange,u=e.highestFloor,h=e.lowestFloor,d=e.risers,m=e.handleEditRiser,b=e.riserLabel,p=e.handleRiserDelete;return r.a.createElement("div",{className:"riser-item__info"},r.a.createElement(J,{riser:t,highestColdRange:o,highestHotRange:a,topColdFloor:l,topHotFloor:n,bottomHotFloor:s,bottomColdFloor:c,totalFloorRange:i,highestFloor:u,lowestFloor:h,risers:d,handleEditRiser:m,riserLabel:b,handleRiserDelete:p}))}}]),t}(a.Component)),q=(o(712),function(e){function t(){return Object(h.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleRiserLabelSubmit,o=e.showForm,a=e.riserLabel,l=(e.editRiser,e.riser),n=e.handleRiserLabelChange,s=e.riserIndex,c=e.showLabelForm;return r.a.createElement("div",{className:"riser__toolbar"},r.a.createElement(Y,{handleRiserLabelSubmit:t,handleRiserLabelChange:n,showLabelForm:c,showForm:o,riserLabel:a,riserIndex:s,riser:l}))}}]),t}(a.Component)),Q=(o(713),function(e){function t(){return Object(h.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleRiserLabelSubmit,o=e.showForm,a=e.riserLabel,l=e.handleEditRiser,n=e.riser,s=e.highestColdRange,c=e.highestHotRange,i=e.topColdFloor,u=e.topHotFloor,h=e.bottomHotFloor,d=e.bottomColdFloor,m=e.totalFloorRange,b=e.highestFloor,p=e.lowestFloor,f=e.risers,g=e.handleRiserLabelChange,F=e.riserIndex,v=e.showLabelForm,E=e.handleRiserDelete;return r.a.createElement("li",{className:"riser-item"},r.a.createElement(q,{handleRiserLabelSubmit:t,handleRiserLabelChange:g,showLabelForm:v,showForm:o,riserLabel:n.label,handleEditRiser:l,riser:n,highestColdRange:s,highestHotRange:c,topColdFloor:i,topHotFloor:u,bottomHotFloor:h,bottomColdFloor:d,totalFloorRange:m,highestFloor:b,lowestFloor:p,riserIndex:F}),r.a.createElement($,{riser:n,highestColdRange:s,highestHotRange:c,topColdFloor:i,topHotFloor:u,bottomHotFloor:h,bottomColdFloor:d,totalFloorRange:m,highestFloor:b,lowestFloor:p,risers:f,handleEditRiser:l,riserLabel:a,handleRiserDelete:E}))}}]),t}(a.Component)),X=(o(714),function(e){function t(e){var o;return Object(h.a)(this,t),(o=Object(m.a)(this,Object(b.a)(t).call(this,e))).riserListRef=r.a.createRef(),o.handleWheel=o.handleWheel.bind(Object(p.a)(o)),o}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleWheel)}},{key:"handleWheel",value:function(e){console.log(e.target);var t=this.riserListRef.current;console.log(this.riserListRef),t&&(e.deltaY>0?t.scrollLeft+=20:t.scrollLeft-=20)}},{key:"render",value:function(){var e,t=this.props,o=t.risers,a=t.handleRiserLabelSubmit,l=t.showForm,n=t.handleEditRiser,s=t.highestColdRange,c=t.highestHotRange,i=t.topColdFloor,u=t.topHotFloor,h=t.bottomHotFloor,d=t.bottomColdFloor,m=t.totalFloorRange,b=t.highestFloor,p=t.lowestFloor,f=(t.leftScroll,t.editingAreaRef,t.handleRiserLabelChange),g=t.showLabelForm,F=t.handleRiserDelete;return console.log(o),e=0==o.length?r.a.createElement("p",{className:"riser-list--empty"},"Empty"):o.map(function(e,t){return r.a.createElement(Q,{riserIndex:t,handleRiserLabelSubmit:a,handleRiserLabelChange:f,showLabelForm:g,showForm:l,riserLabel:e.label,handleEditRiser:n,riser:e,risers:o,highestColdRange:s,highestHotRange:c,topColdFloor:i,topHotFloor:u,bottomHotFloor:h,bottomColdFloor:d,totalFloorRange:m,highestFloor:b,lowestFloor:p,handleRiserDelete:F})}),r.a.createElement("ul",{className:"riser-list",ref:this.riserListRef,onWheel:this.handleWheel},e)}}]),t}(a.Component)),Z=(o(715),function(e){function t(){return Object(h.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.onClick,e.risers),o=e.handleRiserLabelSubmit,a=e.showForm,l=(e.editRiser,e.highestColdRange),n=e.highestHotRange,s=e.topColdFloor,c=e.topHotFloor,i=e.bottomHotFloor,u=e.bottomColdFloor,h=e.totalFloorRange,d=e.highestFloor,m=e.lowestFloor,b=(e.handleScrollRight,e.editingAreaRef),p=e.handleEditRiser,f=e.handleRiserLabelChange,g=e.showLabelForm,F=e.handleRiserDelete;return r.a.createElement("div",{className:"risers-container",ref:b},r.a.createElement(X,{handleRiserLabelSubmit:o,handleRiserLabelChange:f,showLabelForm:g,showForm:a,handleEditRiser:p,risers:t,highestColdRange:l,highestHotRange:n,topColdFloor:s,topHotFloor:c,bottomHotFloor:i,bottomColdFloor:u,totalFloorRange:h,highestFloor:d,lowestFloor:m,handleRiserDelete:F}))}}]),t}(a.Component)),ee=(o(716),function(e){function t(e){var o;Object(h.a)(this,t),(o=Object(m.a)(this,Object(b.a)(t).call(this,e))).handleScrollRight=o.handleScrollRight.bind(Object(p.a)(o)),o.handleScrollLeft=o.handleScrollLeft.bind(Object(p.a)(o)),o.state={leftScroll:0};return o.editingAreaElement=r.a.createRef(),o.toolbarElement=r.a.createRef(),o}return Object(f.a)(t,e),Object(d.a)(t,[{key:"handleScrollRight",value:function(){this.state.leftScroll;console.log(this.editingAreaElement),this.editingAreaElement.scrollLeft+=600,console.log(this.editingAreaElement.scrollLeft),console.log(this.toolbarElement.scrollLeft)}},{key:"handleScrollLeft",value:function(){this.state.leftScroll;console.log(this.editingAreaElement),this.editingAreaElement.scrollLeft-=600}},{key:"render",value:function(){var e=this,t=this.props,o=(t.onClick,t.risers),a=(t.handleRiserFormSubmit,t.showForm),l=(t.editRiser,t.highestColdRange),n=t.highestHotRange,s=t.topColdFloor,c=t.topHotFloor,i=t.bottomHotFloor,u=t.bottomColdFloor,h=t.totalFloorRange,d=t.highestFloor,m=t.lowestFloor,b=(t.projectName,t.handleEditRiser),p=t.handleRiserLabelSubmit,f=t.handleRiserLabelChange,g=t.showLabelForm,F=t.handleRiserDelete;return r.a.createElement("div",{className:"Overview"},r.a.createElement(Z,{risers:o,handleRiserLabelSubmit:p,handleRiserLabelChange:f,showLabelForm:g,showForm:a,className:"button--edit",handleEditRiser:b,highestColdRange:l,highestHotRange:n,topColdFloor:s,topHotFloor:c,bottomHotFloor:i,bottomColdFloor:u,totalFloorRange:h,highestFloor:d,lowestFloor:m,editingAreaRef:function(t){return e.editingAreaElement=t},handleRiserDelete:F}))}}]),t}(a.Component)),te=(o(717),a.Component,o(58)),oe=(o(718),function(e){function t(){return Object(h.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.onClick,e.content,e.handleSubmit,e.handleChange,e.validateForm,e.isLoading,e.isDeleting),o=e.handleDelete,a=e.handleCreateRiser,l=e.projectName;return r.a.createElement("div",{className:"overview__toolbar"},r.a.createElement("div",{className:"overview__toolbar-wrapper"},r.a.createElement("div",{className:"overview__header"},r.a.createElement("p",{className:"overview__subheading"},"Project Name"),r.a.createElement("h1",{className:"overview__heading"},l)),r.a.createElement("div",{className:"overview__buttons"},r.a.createElement("p",{className:"overview__subheading"},"Actions"),r.a.createElement("div",{className:"overview__buttons-wrapper"},r.a.createElement(G,{onClick:a,className:"overview__toolbar__button overview__toolbar__button--create"},"Create Riser +"),r.a.createElement(A,{className:"overview__button overview__button--delete",isLoading:t,onClick:o,text:r.a.createElement(te.a,null),loadingText:"Deleting\u2026"})))))}}]),t}(a.Component)),ae=(a.Component,o(38)),re=(o(719),function(e){function t(){var e,o;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(o=Object(m.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).handleAddFloorAbove=function(e){o.props.addFloorAbove(e)},o.handleAddFloorBelow=function(e){o.props.addFloorBelow(e)},o}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props;e.addFloorAbove,e.addFloorBelow;return r.a.createElement("div",{className:"toolbar__button-wrapper"},r.a.createElement(G,{onClick:this.handleAddFloorAbove,className:"toolbar__button toolbar__button--add"},r.a.createElement(ae.a,null),r.a.createElement(ae.d,null)),r.a.createElement(G,{onClick:this.handleAddFloorBelow,className:"toolbar__button toolbar__button--add"},r.a.createElement(ae.a,null),r.a.createElement(ae.c,null)))}}]),t}(a.Component)),le=(o(720),function(e){function t(){var e,o;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(o=Object(m.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){o.props.onBackClick(e)},o}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.onBackClick,e.label),o=e.addFloorAbove,a=e.addFloorBelow;return r.a.createElement("div",{className:"toolbar"},r.a.createElement(G,{onClick:this.handleClick,className:"toolbar__button toolbar__button--back"},r.a.createElement(ae.b,null)),r.a.createElement("p",{className:"toolbar__label"},"P ",t),r.a.createElement(re,{addFloorBelow:a,addFloorAbove:o}))}}]),t}(a.Component)),ne=(o(721),function(e){function t(e){var o;return Object(h.a)(this,t),(o=Object(m.a)(this,Object(b.a)(t).call(this,e))).handleSubmit=function(e){o.props.handleFloorLabelSubmit(e,o.props)},o.handleChange=function(e){o.props.handleFloorLabelChange(e)},o.handleChange=o.handleChange.bind(Object(p.a)(o)),o.handleSubmit=o.handleSubmit.bind(Object(p.a)(o)),o}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props;e.handleFloorLabelSubmit,e.handleFloorFormChange,e.handleFloorLabelChange;return r.a.createElement("form",{className:"floor__form",onSubmit:this.handleSubmit},r.a.createElement("input",{className:"floor__input",type:"number",onChange:this.handleChange,placeholder:"Floor Label"}))}}]),t}(a.Component)),se=(o(722),function(e){function t(){return Object(h.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=this.props,o=(t.floorFixtures,t.label),a=t.currentRiser,l=(t.cumalativeLoadValues,t.gpms,t.sizes),n=t.onChange,s=t.onSubmit,c=t.initialFloor,i=t.handleFloorLabelSubmit,u=t.handleFloorFormChange,h=t.handleFloorLabelChange;a.floors.length<=1&&""==o?e=r.a.createElement(ne,{onChange:n,onSubmit:s,initialFloor:c,handleFloorLabelSubmit:i,handleFloorFormChange:u,handleFloorLabelChange:h}):e=null;return r.a.createElement("div",{className:"floor__total-info"},r.a.createElement("div",{className:"floor__total-info__helper"},r.a.createElement("div",{className:"floor__total-info__column floor__total-info__column--labels"},r.a.createElement("p",{className:"floor__total-info__values"},"C:"),r.a.createElement("p",{className:"floor__total-info__values"},"H:")),r.a.createElement("div",{className:"floor__total-info__column floor__total-info__column--sizes"},r.a.createElement("p",{className:"floor__total-info__values"},l.cold),r.a.createElement("p",{className:"floor__total-info__values"},l.hot))),e,r.a.createElement("h1",{className:"floor__label"},o))}}]),t}(a.Component)),ce=o(46),ie=o(188),ue=(o(723),function(e){function t(e){var o;return Object(h.a)(this,t),(o=Object(m.a)(this,Object(b.a)(t).call(this,e))).handleDelete=function(e){o.props.handleFixtureDelete(e)},o.state={hovering:!1},o.handleDeleteEnter=o.handleDeleteEnter.bind(Object(p.a)(o)),o.handleDeleteLeave=o.handleDeleteLeave.bind(Object(p.a)(o)),o}return Object(f.a)(t,e),Object(d.a)(t,[{key:"handleDeleteEnter",value:function(){this.setState({hovering:!0})}},{key:"handleDeleteLeave",value:function(e){console.log(e),this.setState({hovering:!1})}},{key:"render",value:function(){var e,t,o,a=this.props,l=a.fixture;a.onSelectFixture;return o=1==this.state.hovering?"fixture fixture--delete":"fixture",e=l.shorthand.name?r.a.createElement("h1",{className:"fixture__label"},l.shorthand.name):r.a.createElement("h1",{className:"fixture__label"},l.name),t="Private"==l.occupancy?r.a.createElement("p",{className:"fixture__info"},r.a.createElement(ce.b,null)):"Public"==l.occupancy?r.a.createElement("p",{className:"fixture__info"},r.a.createElement(ce.a,null)):"Offices, etc."==l.occupancy?r.a.createElement("p",{className:"fixture__info"},r.a.createElement(ie.a,null)):"Hotel, restaurant"==l.occupancy?r.a.createElement("p",{className:"fixture__info"},r.a.createElement(ce.c,null)):r.a.createElement("p",{className:"fixture__info"},l.occupancy),r.a.createElement("div",{className:o},e,t,r.a.createElement("p",{className:"fixture__type"},l.fixtureType),r.a.createElement("button",{className:"fixture__delete",onMouseEnter:this.handleDeleteEnter,onMouseLeave:this.handleDeleteLeave,onClick:this.handleDelete},"x"))}}]),t}(a.Component)),he=(o(724),function(e){function t(){return Object(h.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.floorFixtures,o=e.handleFixtureDelete;return r.a.createElement("ul",{className:"floor-fixtures"},t.map(function(e){return r.a.createElement(ue,{fixture:e,handleFixtureDelete:o})}))}}]),t}(a.Component)),de=o(189),me=function(e){function t(){var e,o;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(o=Object(m.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).handleEditFloor=function(e){o.props.editFloor(e,o.props.label)},o.handleSelectHotSource=function(e){o.props.selectHotSource(e,o.props.label)},o.handleSelectColdSource=function(e){o.props.selectColdSource(e,o.props.label)},o}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props;e.editFloor,e.label,e.selectHotSource,e.selectColdSource;return r.a.createElement("div",{className:"floor__toolbar__buttons"},r.a.createElement(G,{onClick:this.handleEditFloor,className:"floor__toolbar__button floor__toolbar__button--edit"},r.a.createElement(de.a,{icon:_.a})),r.a.createElement(G,{onClick:this.handleSelectHotSource,className:"floor__toolbar__button floor__toolbar__button--hot"},"H"),r.a.createElement(G,{onClick:this.handleSelectColdSource,className:"floor__toolbar__button floor__toolbar__button--cold"},"C"))}}]),t}(a.Component),be=function(e){function t(){return Object(h.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.loadValues;return r.a.createElement("div",{className:"toolbar__info"},r.a.createElement("p",{className:"toolbar__info__text toolbar__info__text--cold"},e.cold),r.a.createElement("p",{className:"toolbar__info__text toolbar__info__text--hot"},e.hot))}}]),t}(a.Component),pe=(o(725),function(e){function t(){return Object(h.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.editFloor,o=e.label,a=e.loadValues,l=e.selectHotSource,n=e.selectColdSource;return r.a.createElement("div",{className:"floor__toolbar"},r.a.createElement(me,{editFloor:t,selectHotSource:l,selectColdSource:n,label:o}),r.a.createElement(be,{loadValues:a}))}}]),t}(a.Component)),fe=(o(726),function(e){function t(){return Object(h.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.showForm,e.currentRiser,e.label),o=e.floorFixtures,a=(e.key,e.currentFloor,e.editFloor),l=e.selectHotSource,n=e.selectColdSource,s=e.loadValues,c=e.handleFixtureDelete;return r.a.createElement("div",{className:"floor__main"},r.a.createElement(he,{floorFixtures:o,handleFixtureDelete:c}),r.a.createElement(pe,{editFloor:a,label:t,floorFixtures:o,selectHotSource:l,selectColdSource:n,loadValues:s}))}}]),t}(a.Component)),ge=(o(727),function(e){function t(){return Object(h.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=this.props,o=t.initialFloor,a=t.onChange,l=t.onSubmit,n=(t.showForm,t.currentRiser),s=t.handleFloorLabelSubmit,c=t.handleFloorFormChange,i=t.label,u=t.floorFixtures,h=(t.key,t.currentFloor,t.editFloor),d=t.selectHotSource,m=t.selectColdSource,b=t.cumalativeLoadValues,p=t.gpms,f=t.sizes,g=t.handleFloorLabelChange,F=t.loadValues,v=t.handleFixtureDelete,E="";return E=n.currentFloor&&i==n.currentFloor.label?"floor floor--active":"floor",n.coldSourceFloor&&n.coldSourceFloor===i&&(E+=" floor--cold-source"),n.hotSourceFloor&&n.hotSourceFloor===i&&(E+=" floor--hot-source"),f.cold&&"0"!=f.cold&&(E+=" floor--cold"),f.hot&&"0"!=f.hot&&(E+=" floor--hot"),r.a.createElement("li",{className:E},r.a.createElement(se,{floorFixtures:u,label:i,currentRiser:n,cumalativeLoadValues:b,gpms:p,sizes:f,onChange:a,onSubmit:l,initialFloor:o,handleFloorLabelSubmit:s,handleFloorFormChange:c,handleFloorLabelChange:g,handleFixtureDelete:v}),r.a.createElement(fe,(e={editFloor:h,label:i,floorFixtures:u,currentRiser:n,selectHotSource:d,selectColdSource:m},Object(L.a)(e,"floorFixtures",u),Object(L.a)(e,"loadValues",F),Object(L.a)(e,"handleFixtureDelete",v),e)))}}]),t}(a.Component)),Fe=function(e){function t(){return Object(h.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=this.props,o=t.initialFloor,a=t.onChange,l=t.onSubmit,n=t.showForm,s=t.currentRiser,c=t.handleFloorLabelSubmit,i=t.handleFloorFormChange,u=t.currentFloor,h=t.editFloor,d=t.selectHotSource,m=t.selectColdSource,b=t.handleFloorLabelChange,p=t.handleFixtureDelete,f={cold:0,hot:0,total:0};return e=0===s.floors.length?r.a.createElement(ge,{onChange:a,onSubmit:l,initialFloor:o,showForm:n,currentRiser:s,handleFloorLabelSubmit:c,handleFloorFormChange:i,currentFloor:u,selectHotSource:d,selectColdSource:m,cumalativeLoadValues:f,gpms:f,sizes:f,handleFloorLabelChange:b,floorFixtures:[],handleFixtureDelete:p}):s.floors.map(function(e){return r.a.createElement(ge,{currentRiser:s,loadValues:e.loadValues,label:e.label,floorFixtures:e.fixtures,cumalativeLoadValues:e.cumalativeLoadValues,gpms:e.gpms,sizes:e.sizes,key:e.label,currentFloor:u,editFloor:h,selectHotSource:d,selectColdSource:m,handleFloorLabelChange:b,handleFloorLabelSubmit:c,handleFixtureDelete:p})}),r.a.createElement("ul",{className:"riser"},e)}}]),t}(a.Component),ve=(o(728),function(e){function t(){return Object(h.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.initialFloor,o=e.onChange,a=e.onSubmit,l=e.showForm,n=e.currentRiser,s=e.handleFloorLabelSubmit,c=e.handleFloorFormChange,i=e.currentFloor,u=e.editFloor,h=e.selectHotSource,d=e.selectColdSource,m=e.handleFloorLabelChange,b=e.handleFixtureDelete;return r.a.createElement("div",{className:"riser-wrapper"},r.a.createElement(Fe,{onChange:o,onSubmit:a,initialFloor:t,showForm:l,currentRiser:n,currentFloor:i,handleFloorLabelSubmit:s,handleFloorFormChange:c,editFloor:u,selectHotSource:h,selectColdSource:d,handleFloorLabelChange:m,handleFixtureDelete:b}))}}]),t}(a.Component)),Ee=(o(729),function(e){function t(){return Object(h.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.initialFloor,o=e.onChange,a=e.onSubmit,l=e.showForm,n=(e.handleRiserFormChange,e.label),s=e.onBackClick,c=e.currentRiser,i=e.handleFloorLabelSubmit,u=e.handleFloorFormChange,h=e.addFloorAbove,d=e.addFloorBelow,m=e.currentFloor,b=e.editFloor,p=e.selectHotSource,f=e.selectColdSource,g=e.handleFloorLabelChange,F=e.handleFixtureDelete;return r.a.createElement("div",{className:"editing-area"},r.a.createElement(le,{onBackClick:s,label:n,addFloorAbove:h,addFloorBelow:d}),r.a.createElement(ve,{onChange:o,onSubmit:a,initialFloor:t,showForm:l,currentRiser:c,currentFloor:m,handleFloorLabelSubmit:i,handleFloorFormChange:u,editFloor:b,selectHotSource:p,selectColdSource:f,handleFloorLabelChange:g,handleFixtureDelete:F}))}}]),t}(a.Component)),_e=function(e){function t(e){var o;return Object(h.a)(this,t),(o=Object(m.a)(this,Object(b.a)(t).call(this,e))).handleClick=function(e){o.props.onSelectFixture(e,o.props.fixture)},o}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fixture;e.onSelectFixture;return r.a.createElement("button",{onClick:this.handleClick,type:"button",className:"fixture-button"},r.a.createElement("h1",{className:"fixture-button__label"},t.name),r.a.createElement("p",{className:"fixture-button__info"},t.occupancy),r.a.createElement("p",{className:"fixture-button__type"},t.fixtureType))}}]),t}(a.Component),Ce=(o(730),function(e){function t(){return Object(h.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fixture,o=e.onSelectFixture;return r.a.createElement("li",{className:"Sidebar__item"},r.a.createElement(_e,{fixture:t,onSelectFixture:o}))}}]),t}(a.Component)),Se=(o(731),function(e){function t(e){var o;return Object(h.a)(this,t),(o=Object(m.a)(this,Object(b.a)(t).call(this,e))).state={fixtures:g},o}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.onSelectFixture;return r.a.createElement("ul",{className:"Sidebar"},this.state.fixtures.map(function(t){return r.a.createElement(Ce,{key:g.indexOf(t),fixture:t,onSelectFixture:e})}))}}]),t}(a.Component)),je=(o(732),function(e){function t(e){var o;return Object(h.a)(this,t),(o=Object(m.a)(this,Object(b.a)(t).call(this,e))).state={initialFloor:"",floors:[],showForm:!0},o}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onSelectFixture,o=e.onChange,a=e.onSubmit,l=e.handleRiserFormChange,n=e.label,s=e.onBackClick,c=e.currentRiser,i=e.handleFloorLabelSubmit,u=e.handleFloorFormChange,h=e.addFloorAbove,d=e.addFloorBelow,m=e.currentFloor,b=e.editFloor,p=e.selectHotSource,f=e.selectColdSource,g=e.handleFloorLabelChange,F=e.handleFixtureDelete;return r.a.createElement("div",{className:"editor"},r.a.createElement(Ee,{onChange:o,onSubmit:a,initialFloor:this.state.initialFloor,showForm:this.state.showForm,handleRiserFormChange:l,label:n,onBackClick:s,currentRiser:c,handleFloorLabelSubmit:i,handleFloorFormChange:u,addFloorAbove:h,addFloorBelow:d,currentFloor:m,editFloor:b,selectHotSource:p,selectColdSource:f,handleFloorLabelChange:g,handleFixtureDelete:F}),r.a.createElement(Se,{onSelectFixture:t}))}}]),t}(a.Component)),ye=(o(733),function(e){function t(e){var o;return Object(h.a)(this,t),(o=Object(m.a)(this,Object(b.a)(t).call(this,e))).handleChange=function(e){var t=o.state.content;t[e.target.id]=e.target.value,o.setState({content:t})},o.handleRiserLabelChange=function(e,t){e.persist(),o.setState({riserLabel:e.target.value})},o.handleSubmit=function(){var e=Object(u.a)(i.a.mark(function e(t,a){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),o.setState({isLoading:!0}),e.prev=2,e.next=5,o.saveNote({content:o.state.content});case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),alert(e.t0),o.setState({isLoading:!1});case 11:case"end":return e.stop()}},e,null,[[2,7]])}));return function(t,o){return e.apply(this,arguments)}}(),o.handleDelete=function(){var e=Object(u.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),window.confirm("Are you sure you want to delete this note?")){e.next=4;break}return e.abrupt("return");case 4:return o.setState({isDeleting:!0}),e.prev=5,e.next=8,o.deleteProject();case 8:o.props.history.push("/"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),alert(e.t0),o.setState({isDeleting:!1});case 15:case"end":return e.stop()}},e,null,[[5,11]])}));return function(t){return e.apply(this,arguments)}}(),o.handleCreateRiser=function(){var e=Object(u.a)(i.a.mark(function e(t){var a,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={floors:[],isEditingLabel:!0},(r=o.state.content).risers||(r.risers=[]),r.risers.push(a),o.setState({content:r}),e.prev=5,e.next=8,o.addRiser({content:r});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),alert(e.t0);case 13:case"end":return e.stop()}},e,null,[[5,10]])}));return function(t){return e.apply(this,arguments)}}(),o.handleRiserLabelSubmit=function(){var e=Object(u.a)(i.a.mark(function e(t,a){var r,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=o.state.content,l=o.state.riserLabel,r.risers.forEach(function(e){for(;l===e.label;){var t=prompt("A riser with that label already exists. Please select another.");l=t}}),r.risers[a].label=l,r.risers[a].isEditingLabel=!1,o.setState({content:r}),e.prev=7,e.next=10,o.saveNote({content:o.state.content});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),alert(e.t0);case 15:case"end":return e.stop()}},e,null,[[7,12]])}));return function(t,o){return e.apply(this,arguments)}}(),o.handleFloorLabelSubmit=function(){var e=Object(u.a)(i.a.mark(function e(t){var a,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=o.state.currentRiser,r=o.state.content,a.floors[0].label=o.state.floorFormInput,a.currentFloor=a.floors[0],r.risers.forEach(function(e,t,o){a.label===e.label&&(o[t]=a)}),o.setState({content:r}),e.prev=7,e.next=10,o.saveNote({content:o.state.content});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),alert(e.t0);case 15:case"end":return e.stop()}},e,null,[[7,12]])}));return function(t){return e.apply(this,arguments)}}(),o.onSelectFixture=function(){var e=Object(u.a)(i.a.mark(function e(t,a){var r,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.state.currentRiser,l=o.state.content,r.currentFloor.hasOwnProperty("fixtures")?(r.currentFloor.fixtures.push(a),r.currentFloor.loadValues.cold+=a.loadValues.cold,r.currentFloor.loadValues.hot+=a.loadValues.hot):(r.currentFloor.fixtures=[],r.currentFloor.loadValues.cold+=a.loadValues.cold,r.currentFloor.loadValues.hot+=a.loadValues.hot,r.currentFloor.fixtures.push(a)),r.currentFloor.loadValues.cold=Math.round(10*r.currentFloor.loadValues.cold)/10,r.currentFloor.loadValues.hot=Math.round(10*r.currentFloor.loadValues.hot)/10,r.floors.forEach(function(e,t,o){e.label==r.currentFloor.label&&(o[t]=r.currentFloor)}),l.risers.forEach(function(e,t,o){e.label==r.label&&(o[t]=r)}),o.setState({content:l}),o.calculateSizes(),e.prev=9,e.next=12,o.saveNote({content:o.state.content});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),alert(e.t0);case 17:case"end":return e.stop()}},e,null,[[9,14]])}));return function(t,o){return e.apply(this,arguments)}}(),o.onBackClick=function(){var e=Object(u.a)(i.a.mark(function e(t){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.state.content,o.setState({isEditing:!1}),e.prev=2,e.next=5,o.saveNote({content:a});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),alert(e.t0);case 10:case"end":return e.stop()}},e,null,[[2,7]])}));return function(t){return e.apply(this,arguments)}}(),o.editFloor=function(){var e=Object(u.a)(i.a.mark(function e(t,a){var r,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=o.state.currentRiser,l=o.state.content,r.floors.forEach(function(e,t,o){e.label==a&&(r.currentFloor=o[t])}),l.currentRiser=r,o.setState({content:l});case 5:case"end":return e.stop()}},e)}));return function(t,o){return e.apply(this,arguments)}}(),o.addFloorAbove=function(){var e=Object(u.a)(i.a.mark(function e(t){var a,r,l,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=o.state.currentRiser,r=a.floors[a.floors.length-1].label,(l={label:"",fixtures:[],loadValues:{cold:0,hot:0},sizes:{cold:0,hot:0},totalLoadValues:{cold:0,hot:0}}).label=Number(r)+1+"",a.floors.push(l),(n=o.state.content).risers.forEach(function(e,t,o){e.label==a.label&&(o[t]=a)}),o.setState({content:n});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),o.addFloorBelow=function(){var e=Object(u.a)(i.a.mark(function e(t){var a,r,l,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=o.state.currentRiser,r=a.floors[0].label,(l={label:"",fixtures:[],loadValues:{cold:0,hot:0},sizes:{cold:0,hot:0},totalLoadValues:{cold:0,hot:0}}).label=Number(r)-1+"",a.floors.unshift(l),(n=o.state.content).risers.forEach(function(e,t,o){e.label==a.label&&(o[t]=a)}),o.setState({content:n});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),o.selectHotSource=function(){var e=Object(u.a)(i.a.mark(function e(t,a){var r,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.state.currentRiser,l=o.state.content,r.hotSourceFloor=a,l.currentRiser=r,l.risers.forEach(function(e,t,o){e.label==r.label&&(o[t]=r)}),o.setState({currentRiser:r,content:l}),e.prev=6,e.next=9,o.saveNote({content:o.state.content});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),alert(e.t0);case 14:case"end":return e.stop()}},e,null,[[6,11]])}));return function(t,o){return e.apply(this,arguments)}}(),o.selectColdSource=function(){var e=Object(u.a)(i.a.mark(function e(t,a){var r,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.state.currentRiser,l=o.state.content,r.coldSourceFloor=a,l.currentRiser=r,l.risers.forEach(function(e,t,o){e.label==r.label&&(o[t]=r)}),o.setState({currentRiser:r,content:l}),e.prev=6,e.next=9,o.saveNote({content:o.state.content});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),alert(e.t0);case 14:case"end":return e.stop()}},e,null,[[6,11]])}));return function(t,o){return e.apply(this,arguments)}}(),o.handleFixtureDelete=function(){var e=Object(u.a)(i.a.mark(function e(t){var a,r,l,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(o.state.content.currentRiser.currentFloor),t.persist(),console.log(t),0,a=t.target,r=Array.prototype.indexOf.call(a.parentNode.parentNode.children,a.parentNode),console.log(r),l=o.state.content,(n=o.state.currentRiser).currentFloor.loadValues.cold-=n.currentFloor.fixtures[r].loadValues.cold,n.currentFloor.loadValues.hot-=n.currentFloor.fixtures[r].loadValues.hot,n.currentFloor.loadValues.cold=Math.round(10*n.currentFloor.loadValues.cold)/10,n.currentFloor.loadValues.hot=Math.round(10*n.currentFloor.loadValues.hot)/10,n.currentFloor.fixtures.splice(r,1),console.log(n.currentFloor.fixtures),n.floors.forEach(function(e,t,o){e.label==n.currentFloor.label&&(o[t]=n.currentFloor)}),l.risers.forEach(function(e,t,o){e.label==n.label&&(o[t]=n)}),console.log(l),o.calculateSizes(),o.setState({content:l,currentRiser:n}),e.prev=20,e.next=23,o.saveNote({content:o.state.content});case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(20),alert(e.t0);case 28:case"end":return e.stop()}},e,null,[[20,25]])}));return function(t){return e.apply(this,arguments)}}(),o.handleRiserDelete=function(){var e=Object(u.a)(i.a.mark(function e(t,a){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),(r=o.state.content).risers.forEach(function(e,t,o){e.label==a&&o.splice(t,1)}),console.log(r.risers),o.setState({content:r}),e.prev=5,e.next=8,o.saveNote({content:o.state.content});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),alert(e.t0);case 13:case"end":return e.stop()}},e,null,[[5,10]])}));return function(t,o){return e.apply(this,arguments)}}(),o.file=null,o.state={isLoading:null,isDeleting:null,project:null,content:"",currentRiser:null,isEditing:!1,riserLabel:"",showLabelForm:!0,floorFormInput:""},o.handleRiserLabelChange=o.handleRiserLabelChange.bind(Object(p.a)(o)),o.handleRiserLabelSubmit=o.handleRiserLabelSubmit.bind(Object(p.a)(o)),o.handleEditRiser=o.handleEditRiser.bind(Object(p.a)(o)),o.handleFloorLabelChange=o.handleFloorLabelChange.bind(Object(p.a)(o)),o.handleFloorLabelSubmit=o.handleFloorLabelSubmit.bind(Object(p.a)(o)),o.onSelectFixtured=o.onSelectFixture.bind(Object(p.a)(o)),o.onBackClick=o.onBackClick.bind(Object(p.a)(o)),o.handleFixtureDelete=o.handleFixtureDelete.bind(Object(p.a)(o)),o}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(i.a.mark(function e(){var t,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getProject();case 3:t=e.sent,o=t.content,this.setState({project:t,content:o}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"getProject",value:function(){return x.API.get("riser-sizer","/riser-sizer/".concat(this.props.match.params.id))}},{key:"validateForm",value:function(){return this.state.content.name.length>0}},{key:"saveNote",value:function(e){return x.API.put("riser-sizer","/riser-sizer/".concat(this.props.match.params.id),{body:e})}},{key:"deleteProject",value:function(){return x.API.del("riser-sizer","/riser-sizer/".concat(this.props.match.params.id))}},{key:"addRiser",value:function(e){return x.API.put("riser-sizer","/riser-sizer/".concat(this.props.match.params.id),{body:e})}},{key:"handleEditRiser",value:function(e,t){var o;if(this.state.content.risers.forEach(function(e){e.label==t.riserLabel&&(o=e)}),0===o.floors.length){o.floors.push({label:"",fixtures:[],loadValues:{cold:0,hot:0},sizes:{cold:0,hot:0},totalLoadValues:{cold:0,hot:0}})}this.setState({currentRiser:o,isEditing:!0})}},{key:"handleFloorLabelChange",value:function(e){this.setState({floorFormInput:e.target.value})}},{key:"calculateSizes",value:function(){var e=this.state.content;e.risers.forEach(function(e){var t,o,a=0,r=0,l=[],n=[],s=[],c=[];e.floors.forEach(function(a,r){a.label==e.coldSourceFloor&&(t=r),a.label==e.hotSourceFloor&&(o=r)}),console.log(t),console.log(o),e.floors.forEach(function(i,u,h){console.log("floor: "+i.label),console.log("riser's cold source: "+e.coldSourceFloor),l=e.floors.slice(t+1),n=e.floors.slice(0,t+1),l.reverse(),s=e.floors.slice(o+1),c=e.floors.slice(0,o+1),s.reverse(),console.log("floorsBelowColdSource: "),console.log(n),console.log("floorsAboveColdSource: "),console.log(l),n&&n.forEach(function(e){a+=e.loadValues.cold,console.log("coldLoad below"+a),e.totalLoadValues.cold=a,e.label==i.label&&(h[u]=e)}),a=0,l&&l.forEach(function(e){a+=e.loadValues.cold,console.log("coldLoad above"+a),e.totalLoadValues.cold=a,e.label==i.label&&(h[u]=e)}),a=0,c&&c.forEach(function(e){r+=e.loadValues.hot,console.log("hotLoad for below"+r),e.totalLoadValues.hot=r,e.label==i.label&&(h[u]=e)}),r=0,s&&s.forEach(function(e){r+=e.loadValues.hot,console.log("hotLoad floor "+e.label+": "+r),console.log("load values for "+e.label+": "+i.loadValues.hot),e.totalLoadValues.hot=r,e.label==i.label&&(h[u]=e)}),r=0,console.log(i.totalLoadValues),v.forEach(function(e,t,o){Math.ceil(i.totalLoadValues.cold)<=e&&Math.ceil(i.totalLoadValues.cold)>o[t-1]&&(i.sizes.cold=E[t]),Math.ceil(i.totalLoadValues.hot)<=e&&Math.ceil(i.totalLoadValues.hot)>o[t-1]&&(console.log("totalLoadValues hot rounded: "+Math.ceil(i.totalLoadValues.cold)),console.log("sizeslist hot index: "+E[t]),i.sizes.hot=E[t])})})}),this.setState({content:e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"Projects"},!this.state.isEditing&&r.a.createElement("div",{className:"Projects__Menu"},r.a.createElement("div",{className:"Menu__wrapper"},r.a.createElement("div",{className:"Menu__account"},r.a.createElement("div",{className:"Menu__avi"}),r.a.createElement("p",{className:"Menu__name"},this.props.user)),r.a.createElement("a",{className:"Menu__button",href:"/"},"Dashboard"),r.a.createElement("a",{className:"Menu__button"},"Help"),r.a.createElement("a",{className:"Menu__button"},"Settings"),r.a.createElement("a",{className:"Menu__button",onClick:this.props.handleLogout},"Logout"))),this.state.project&&r.a.createElement("div",{className:"Projects__wrapper"},r.a.createElement(oe,{projectName:this.state.content.name,handleSubmit:this.handleSubmit,handleChange:this.handleChange,validateForm:this.validateForm,isLoading:this.state.isLoading,isDeleting:this.state.isDeleting,handleDelete:this.handleDelete,handleCreateRiser:this.handleCreateRiser}),this.state.isEditing?r.a.createElement(je,{selectHotSource:this.selectHotSource,selectColdSource:this.selectColdSource,addFloorAbove:this.addFloorAbove,addFloorBelow:this.addFloorBelow,editFloor:this.editFloor,currentRiser:this.state.currentRiser,handleFloorLabelChange:this.handleFloorLabelChange,handleFloorLabelSubmit:this.handleFloorLabelSubmit,onSelectFixture:this.onSelectFixture,onBackClick:this.onBackClick,handleFixtureDelete:this.handleFixtureDelete}):r.a.createElement(ee,{risers:this.state.content.risers,handleEditRiser:this.handleEditRiser,handleRiserLabelSubmit:this.handleRiserLabelSubmit,handleRiserLabelChange:this.handleRiserLabelChange,showLabelForm:this.state.showLabelForm,handleRiserDelete:this.handleRiserDelete})))}}]),t}(a.Component)),Oe=function(e){var t=e.component,o=e.props,a=Object(H.a)(e,["component","props"]);return r.a.createElement(C.d,Object.assign({},a,{render:function(e){return r.a.createElement(t,Object.assign({},e,o))}}))},xe=function(e){var t=e.component,o=e.props,a=Object(H.a)(e,["component","props"]);return r.a.createElement(C.d,Object.assign({},a,{render:function(e){return o.isAuthenticated?r.a.createElement(t,Object.assign({},e,o)):r.a.createElement(C.c,{to:"/login?redirect=".concat(e.location.pathname).concat(e.location.search)})}}))};var Re=function(e){var t=e.component,o=e.props,a=Object(H.a)(e,["component","props"]),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;e=e.replace(/[[]]/g,"\\$&");var o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)","i").exec(t);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null}("redirect");return r.a.createElement(C.d,Object.assign({},a,{render:function(e){return o.isAuthenticated?r.a.createElement(C.c,{to:""===l||null===l?"/":l}):r.a.createElement(t,Object.assign({},e,o))}}))},we=function(e){var t=e.childProps;return r.a.createElement(C.g,null,r.a.createElement(Oe,{path:"/",exact:!0,component:w,props:t}),r.a.createElement(Re,{path:"/login",exact:!0,component:D,props:t}),r.a.createElement(Re,{path:"/signup",exact:!0,component:B,props:t}),r.a.createElement(xe,{path:"/projects/new",exact:!0,component:U,props:t}),r.a.createElement(xe,{path:"/projects/:id",exact:!0,component:ye,props:t}),r.a.createElement(C.d,{component:z}))},Le=function(e){function t(e){var o;return Object(h.a)(this,t),(o=Object(m.a)(this,Object(b.a)(t).call(this,e))).userHasAuthenticated=function(e){o.setState({isAuthenticated:e})},o.handleLogout=function(){var e=Object(u.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.Auth.signOut();case 2:o.userHasAuthenticated(!1),o.props.history.push("/");case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),o.state={isAuthenticated:!1,isAuthenticating:!0,initialFloor:"",currentRiser:{label:"",floors:[],sourceFloor:"",coldSourceFloor:""},currentFloor:{label:"",fixtures:[],cumalativeLoadValues:{cold:0,hot:0,total:0},loadValues:{cold:0,hot:0,total:0},gpms:{cold:0,hot:0,total:0},sizes:{cold:"0",hot:"0",total:"0"}},visible:"Overview",showForm:!0,riserLabelInput:"",floorInitInput:"",user:""},o.update=o.update.bind(Object(p.a)(o)),o.onCreate=o.onCreate.bind(Object(p.a)(o)),o.onSelectFixture=o.onSelectFixture.bind(Object(p.a)(o)),o.handleRiserFormSubmit=o.handleRiserFormSubmit.bind(Object(p.a)(o)),o.handleRiserFormChange=o.handleRiserFormChange.bind(Object(p.a)(o)),o.handleFloorFormChange=o.handleFloorFormChange.bind(Object(p.a)(o)),o.handleFloorFormSubmit=o.handleFloorFormSubmit.bind(Object(p.a)(o)),o.editRiser=o.editRiser.bind(Object(p.a)(o)),o.onBackClick=o.onBackClick.bind(Object(p.a)(o)),o.addFloorAbove=o.addFloorAbove.bind(Object(p.a)(o)),o.addFloorBelow=o.addFloorBelow.bind(Object(p.a)(o)),o.editFloor=o.editFloor.bind(Object(p.a)(o)),o.selectHotSource=o.selectHotSource.bind(Object(p.a)(o)),o.selectColdSource=o.selectColdSource.bind(Object(p.a)(o)),o.calculateColdSizes=o.calculateColdSizes.bind(Object(p.a)(o)),o.calculateHotSizes=o.calculateHotSizes.bind(Object(p.a)(o)),o.getHighestColdRange=o.getHighestColdRange.bind(Object(p.a)(o)),o.getHighestHotRange=o.getHighestHotRange.bind(Object(p.a)(o)),o.getTopColdFloor=o.getTopColdFloor.bind(Object(p.a)(o)),o.getTopHotFloor=o.getTopHotFloor.bind(Object(p.a)(o)),o.getBottomColdFloor=o.getBottomColdFloor.bind(Object(p.a)(o)),o.getBottomHotFloor=o.getBottomHotFloor.bind(Object(p.a)(o)),o.getTotalFloorRange=o.getTotalFloorRange.bind(Object(p.a)(o)),o.handleLogout=o.handleLogout.bind(Object(p.a)(o)),o}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(i.a.mark(function e(){var t,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,e.next=4,x.Auth.currentSession();case 4:return e.next=6,x.Auth.currentUserInfo();case 6:t=e.sent,o=t.attributes.email.substring(0,t.attributes.email.indexOf("@")),this.userHasAuthenticated(!0),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),"No current user"!==e.t0&&alert(e.t0),console.log(e.t0);case 15:console.log(o),this.setState({isAuthenticating:!1,user:o});case 17:case"end":return e.stop()}},e,this,[[1,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleFloorFormChange",value:function(e){console.log(e.target.value);Object(s.a)({},this.state).floorInitInput;var t=e.target.value;this.setState({floorInitInput:t},function(){console.log(this.state)})}},{key:"handleFloorFormSubmit",value:function(e){e.preventDefault(),console.log(e.target.value);var t=Object(s.a)({},this.state).currentRiser,o={label:"",fixtures:[],loadValues:{cold:0,hot:0,total:0},cumalativeLoadValues:{cold:0,hot:0,total:0},gpms:{cold:0,hot:0,total:0},sizes:{cold:"0",hot:"0",total:"0"}};o.label=this.state.floorInitInput,console.log(o),t.floors.push(o),this.setState({currentRiser:t,currentFloor:this.state.currentRiser.floors[0]},function(){console.log(this.state)})}},{key:"handleRiserFormChange",value:function(e){console.log(e.target.value),this.setState({riserLabelInput:e.target.value})}},{key:"handleRiserFormSubmit",value:function(e){e.preventDefault();var t=Object(s.a)({},this.state).risers,o={label:this.state.riserLabelInput,floors:[],sourceFloor:"",coldSourceFloor:""};t[t.length-1]=o,this.setState({showForm:!1,riserLabelInput:"",risers:t})}},{key:"getTotalFloorRange",value:function(){var e=0,t=0,o=0;Object(s.a)({},this.state).risers.forEach(function(o){o.floors.forEach(function(o){Number(o.label)<e&&(e=Number(o.label)),Number(o.label)>t&&(t=Number(o.label))})}),o=t-e,o+=1,console.log(o),this.setState({totalFloorRange:o,highestFloor:t,lowestFloor:e})}},{key:"getHighestColdRange",value:function(){var e=0;Object(s.a)({},this.state).risers.forEach(function(t){t.coldFloors&&t.coldFloors.below.length+t.coldFloors.above.length>e&&(e=t.coldFloors.below.length+t.coldFloors.above.length)}),this.setState({highestColdRange:e}),console.log(e)}},{key:"getHighestHotRange",value:function(){var e=0;Object(s.a)({},this.state).risers.forEach(function(t){t.hotFloors&&t.hotFloors.below.length+t.hotFloors.above.length>e&&(e=t.hotFloors.below.length+t.hotFloors.above.length)}),this.setState({highestHotRange:e}),console.log(e)}},{key:"getTopColdFloor",value:function(){var e=0;Object(s.a)({},this.state).risers.forEach(function(t){t.coldFloors&&(t.coldFloors.above.length>0?Number(t.coldFloors.above[t.coldFloors.above.length-1].label)>e&&(e=t.coldFloors.above[t.coldFloors.above.length-1].label):t.coldFloors.below.length>0&&(e=t.coldFloors.below[0].label))}),e+="",this.setState({topColdFloor:e}),console.log(e)}},{key:"getTopHotFloor",value:function(){var e=0;Object(s.a)({},this.state).risers.forEach(function(t){t.hotFloors&&(t.hotFloors.above.length>0?Number(t.hotFloors.above[t.hotFloors.above.length-1].label)>e&&(e=t.hotFloors.above[t.hotFloors.above.length-1].label):t.hotFloors.below.length>0&&(e=t.hotFloors.below[0].label))}),e+="",this.setState({topHotFloor:e}),console.log(e)}},{key:"getBottomColdFloor",value:function(){var e=0;Object(s.a)({},this.state).risers.forEach(function(t){if(t.coldFloors)if(t.coldFloors.below.length>0){var o=Number(t.coldFloors.below[0].label);o<e&&(console.log(o),e=o+"",console.log(e))}else t.coldFloors.above.length>0&&0==t.coldFloors.below.length&&Number(t.coldFloors.above[0].label)<e&&(e=t.coldFloors.above[0].label,console.log(e))}),console.log(e),e+="",this.setState({bottomColdFloor:e}),console.log(e)}},{key:"getBottomHotFloor",value:function(){var e=0;Object(s.a)({},this.state).risers.forEach(function(t){t.hotFloors&&(t.hotFloors.below.length>0?Number(t.hotFloors.below[0].label)<e&&(e=t.hotFloors.below[0].label):t.hotFloors.above.length>0&&0==t.hotFloors.below.length&&Number(t.hotFloors.above[0].label)<e&&(e=t.hotFloors.above[0].label,console.log(e)))}),e+="",this.setState({bottomHotFloor:e}),console.log(e)}},{key:"calculateColdSizes",value:function(e){var t=e.floors.findIndex(function(t){return t.label===e.coldSourceFloor});t+=1,console.log(t);var o=e.floors.slice(t),a=e.floors.slice(0,t),r=o.length;console.log(o);var l=a.length;console.log(a);for(var n=0,s=[],c=[],i=r-1;i>=0;i--)n+=o[i].loadValues.cold,s.push(n);s.reverse(),n=0;for(i=0;i<l;i++)n+=a[i].loadValues.cold,c.push(n);s=c.concat(s),e.totalLoadValues={cold:0,hot:0},e.totalGPMs={cold:0,hot:0},e.totalSizes={cold:"",hot:""};for(i=0;i<e.floors.length;i++){e.floors[i].cumalativeLoadValues.cold=s[i],n+=e.floors[i].loadValues.cold,console.log(n),e.totalLoadValues.cold+=e.floors[i].loadValues.cold,console.log(e.totalLoadValues);for(var u=0;u<F.length;u++){if(e.floors[i].cumalativeLoadValues.cold<v[u]){e.floors[i].gpms.cold=F[u-1],e.floors[i].sizes.cold=E[u-1];break}e.floors[i].gpms.cold="0",e.floors[i].sizes.cold="0"}void 0==e.floors[i].sizes.cold&&(e.floors[i].sizes.cold="0")}for(i=0;i<F.length;i++){if(e.totalLoadValues.cold<v[i]){e.totalGPMs.cold=F[i-1],e.totalSizes.cold=E[i-1];break}e.totalGPMs.cold=0,e.totalSizes.cold="0"}var h={below:[],above:[]};return a.forEach(function(e){""!=e.sizes.cold&&"0"!=e.sizes.cold&&void 0!=e.sizes.cold&&h.below.push(e)}),o.forEach(function(e){""!=e.sizes.cold&&"0"!=e.sizes.cold&&void 0!=e.sizes.cold&&h.above.push(e)}),e.coldFloors=h,e}},{key:"calculateHotSizes",value:function(e){var t=e.floors.findIndex(function(t){return t.label===e.hotSourceFloor});t+=1,console.log(t);var o=e.floors.slice(t),a=e.floors.slice(0,t),r=o.length;console.log(o);var l=a.length;console.log(a);for(var n=0,s=[],c=[],i=r-1;i>=0;i--)n+=o[i].loadValues.hot,s.push(n);s.reverse(),n=0;for(i=0;i<l;i++)n+=a[i].loadValues.hot,c.push(n);s=c.concat(s),e.totalLoadValues={cold:0,hot:0},e.totalGPMs={cold:0,hot:0},e.totalSizes={cold:"",hot:""};for(i=0;i<e.floors.length;i++){e.floors[i].cumalativeLoadValues.hot=s[i],n+=e.floors[i].loadValues.hot,console.log(n),e.totalLoadValues.hot+=e.floors[i].loadValues.hot,console.log(e.totalLoadValues);for(var u=0;u<F.length;u++){if(e.floors[i].cumalativeLoadValues.hot<v[u]){e.floors[i].gpms.hot=F[u-1],e.floors[i].sizes.hot=E[u-1];break}e.floors[i].gpms.hot="0",e.floors[i].sizes.hot="0"}void 0==e.floors[i].sizes.hot&&(e.floors[i].sizes.hot="0")}for(i=0;i<F.length;i++){if(e.totalLoadValues.hot<v[i]){e.totalGPMs.hot=F[i-1],e.totalSizes.hot=E[i-1];break}e.totalGPMs.hot=0,e.totalSizes.hot="0"}var h={below:[],above:[]};return a.forEach(function(e){""!=e.sizes.hot&&"0"!=e.sizes.hot&&void 0!=e.sizes.hot&&h.below.push(e)}),o.forEach(function(e){""!=e.sizes.hot&&"0"!=e.sizes.hot&&void 0!=e.sizes.hot&&h.above.push(e)}),e.hotFloors=h,e}},{key:"update",value:function(){var e=this,t=Object(s.a)({},this.state).risers;t.map(function(t){return e.calculateHotSizes(t)}),t.map(function(t){return e.calculateColdSizes(t)}),this.getTotalFloorRange(),this.setState({risers:t}),console.log(t)}},{key:"onSelectFixture",value:function(e){var t=Object(s.a)({},this.state),o=t.currentFloor,a=t.currentRiser,r=(t.risers,o);r.fixtures.push(e),r.loadValues.cold+=e.loadValues.cold,r.loadValues.hot+=e.loadValues.hot,r.loadValues.total+=e.loadValues.total,console.log(r);var l=a;l.hotSourceFloor&&(l=this.calculateHotSizes(l)),l.coldSourceFloor&&(l=this.calculateColdSizes(l)),this.setState({currentFloor:r,currentRiser:l})}},{key:"onCreate",value:function(){console.log("created a new riser");var e=Object(s.a)({},this.state).risers;if(0==e.length||""!=e[e.length-1].label){e.push({label:"",floors:[],sourceFloor:""}),this.setState({risers:e}),console.log(this.state),this.getHighestColdRange(),this.getHighestHotRange(),this.getTopColdFloor(),this.getBottomColdFloor(),this.getTopHotFloor(),this.getBottomHotFloor()}}},{key:"editRiser",value:function(e,t){console.log(t.riserLabel);var o=Object(s.a)({},this.state).risers,a=Object(s.a)({},this.state).currentRiser;a=(a=o.filter(function(e){return e.label===t.riserLabel}))[0],console.log(a),this.setState({currentRiser:a,visible:"Editor"},function(){console.log(this.state)})}},{key:"onBackClick",value:function(e){console.log(e),this.update(),this.getHighestColdRange(),this.getHighestHotRange(),this.getTopColdFloor(),this.getBottomColdFloor(),this.getTopHotFloor(),this.getBottomHotFloor();this.setState({visible:"Overview",currentRiser:{}}),console.log(this.state)}},{key:"addFloorAbove",value:function(e){if(this.state.currentRiser.floors.length>0){console.log(this.state.currentRiser);var t=Object(s.a)({},this.state),o=t.currentRiser,a=t.currentFloor,r=o,l=r.floors[r.floors.length-1],n={label:Number(l.label)+1+"",fixtures:[],loadValues:{cold:0,hot:0,total:0},cumalativeLoadValues:{cold:0,hot:0,total:0},gpms:{cold:0,hot:0,total:0},sizes:{cold:"0",hot:"0",total:"0"}};console.log(n);var c;c=n,console.log(c),r.floors.push(n),console.log(r),this.setState({currentRiser:r,currentFloor:c}),this.getHighestColdRange(),this.getHighestHotRange(),this.getTopColdFloor(),this.getBottomColdFloor(),this.getTopHotFloor(),this.getBottomHotFloor()}}},{key:"addFloorBelow",value:function(e){if(this.state.currentRiser.floors.length>0){console.log(this.state.currentRiser);var t=Object(s.a)({},this.state),o=t.currentRiser,a=t.currentFloor,r=o,l=(r.floors[r.floors.length-1],{label:Number(o.floors[0].label)-1+"",fixtures:[],loadValues:{cold:0,hot:0,total:0},cumalativeLoadValues:{cold:0,hot:0,total:0},gpms:{cold:0,hot:0,total:0},sizes:{cold:"0",hot:"0",total:"0"}});console.log(l);var n;n=l,console.log(n),r.floors.unshift(l),console.log(r),this.setState({currentRiser:r,currentFloor:n},function(){console.log(this.state)}),this.getHighestColdRange(),this.getHighestHotRange(),this.getTopColdFloor(),this.getBottomColdFloor(),this.getTopHotFloor(),this.getBottomHotFloor()}}},{key:"editFloor",value:function(e,t){console.log(t);var o=Object(s.a)({},this.state).currentRiser;console.log(o);var a=o.floors.findIndex(function(e){return e.label==t.label});this.setState({currentFloor:o.floors[a]}),console.log(this.state.currentFloor)}},{key:"selectSource",value:function(e,t){var o=Object(s.a)({},this.state).currentRiser;o.sourceFloor=t.label,console.log(o),this.setState({currentRiser:o}),console.log(this.state)}},{key:"selectColdSource",value:function(e,t){var o=Object(s.a)({},this.state).currentRiser;o.coldSourceFloor=t.label,console.log(o),console.log(e.target),this.setState({currentRiser:o}),this.update(),console.log(this.state)}},{key:"selectHotSource",value:function(e,t){var o=Object(s.a)({},this.state).currentRiser;o.hotSourceFloor=t.label,console.log(o),console.log(e.target),this.setState({currentRiser:o}),this.update(),console.log(this.state)}},{key:"render",value:function(){var e=this,t={isAuthenticated:this.state.isAuthenticated,userHasAuthenticated:this.userHasAuthenticated,user:this.state.user,handleLogout:this.handleLogout};return"Overview"===this.state.visible?r.a.createElement(ee,{onClick:function(){return e.onCreate()},risers:this.state.risers,handleRiserFormChange:function(){return e.handleRiserFormChange},handleRiserFormSubmit:function(){return e.handleRiserFormSubmit},showForm:this.state.showForm,editRiser:function(t,o){return e.editRiser(t,o)},highestColdRange:this.state.highestColdRange,highestHotRange:this.state.highestHotRange,topColdFloor:this.state.topColdFloor,topHotFloor:this.state.topHotFloor,bottomHotFloor:this.state.bottomHotFloor,bottomColdFloor:this.state.bottomColdFloor,totalFloorRange:this.state.totalFloorRange,highestFloor:this.state.highestFloor,lowestFloor:this.state.lowestFloor}):"Editor"===this.state.visible&&r.a.createElement(je,{onSelectFixture:this.onSelectFixture,onChange:this.handleFloorChange,label:this.state.currentRiser.label,onBackClick:this.onBackClick,currentRiser:this.state.currentRiser,handleFloorFormChange:this.handleFloorFormChange,handleFloorFormSubmit:this.handleFloorFormSubmit,addFloorAbove:this.addFloorAbove,addFloorBelow:this.addFloorBelow,currentFloor:this.state.currentFloor,editFloor:function(t,o){return e.editFloor(t,o)},selectHotSource:function(t,o){return e.selectHotSource(t,o)},selectColdSource:function(t,o){return e.selectColdSource(t,o)}}),!this.state.isAuthenticating&&r.a.createElement("div",{className:"App"},r.a.createElement(we,{childProps:t}))}}]),t}(a.Component),Ne=Object(C.k)(Le),ke=o(37);R.a.configure({Auth:{mandatorySignIn:!0,region:W.REGION,userPoolId:W.USER_POOL_ID,identityPoolId:W.IDENTITY_POOL_ID,userPoolWebClientId:W.APP_CLIENT_ID},API:{endpoints:[{name:"riser-sizer",endpoint:M.URL,region:M.REGION}]}}),n.a.render(r.a.createElement(ke.BrowserRouter,null,r.a.createElement(Ne,null)),document.getElementById("root"))},85:function(e,t){}},[[190,1,2]]]);
//# sourceMappingURL=main.f6589d54.chunk.js.map